<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Orientação a Objetos em Python</title>

    <meta name="description" content="Orientação a Objetos em Python">
    <meta name="author" content="Bernardo Fontes">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../css/reveal.min.css">
    <link rel="stylesheet" href="../css/theme/simple.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="../lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
    	if( window.location.search.match( /print-pdf/gi ) ) {
    		var link = document.createElement( 'link' );
    		link.rel = 'stylesheet';
    		link.type = 'text/css';
    		link.href = '../css/print/pdf.css';
    		document.getElementsByTagName( 'head' )[0].appendChild( link );
    	}
    </script>
    <style type="text/css">
      .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
        text-transform: none !important;
      }
      .reveal section img {
        border: none !important;
        box-shadow: none !important;
      }
      .reveal .progress span {
        background: #FF0000 !important;
      }

      .without_ul_style > ul {
        list-style-type: none;
      }
    </style>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-63105879-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!--[if lt IE 9]>
    <script src="../lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <div class="slides">
      <!-- Any section element inside of this container is displayed as a slide -->

        <section>
          <h1>II Encontro PythonVale</h1>
          <h3>Orientação a Objetos em Python</h3>
          <br>

          <h3><b>Bernardo Fontes</b></h3>
          <br>

          <h4>São José dos Campos/SP</h4>
          <h4>30 de Maio de 2015</h4>
        </section>

        <section>
          <h2>Só para dizer um oi!</h2>
          <h3>
            <p><a target="_blank" href="https://twitter.com/bbfontes">twitter.com/bbfontes</a></p>
            <p><a target="_blank" href="https://github.com/berinhard">github.com/berinhard</a></p>
            <p><a target="_blank" href="http://garimpo.fm/">garimpo.fm</a></p>
            <p><a target="_blank" href="http://pessoas.cc/">pessoas.cc</a></p>
            <p><a target="_blank" href="mailto:bernardoxhc@gmail.com">bernardoxhc@gmail.com</a></p>
          </h3>
          <p>
            <a href="http://elogroup.com.br/">
              <img width="50%" src="images/Logo-EloGroup-fundo-claro.jpg">
            </a>
          </p>
        </section>

        <section>
            <h2><p><a target="_blank" href="https://berinhard.github.io/talks/">berinhard.github.io/talks/</a></p></h2>
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Básicos de Orientação a Objetos (OO)
          - ### O que é um **objeto**?
          - ### Definições **variam** por linguagem
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Em Python
          - ### Pode ser referenciado a uma **variável**
          - ### Pode ser utilizado como **parâmetro em funções**
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Em Python
          - ### **Tudo** é um objeto
        </section>

        <section data-markdown>
          ## Um inteiro é um objeto
          ```python
          In [1]: a = 4

          In [2]: a.__sub__(3)
          Out[2]: 1

          In [3]: print dir(a)
          ['__abs__', '__add__', '__and__', '__class__', '__cmp__', '__coerce__', '__delattr__', '__div__', '__divmod__', '__doc__', '__float__', '__floordiv__', '__format__', '__getattribute__', '__getnewargs__', '__hash__', '__hex__', '__index__', '__init__', '__int__', '__invert__', '__long__', '__lshift__', '__mod__', '__mul__', '__neg__', '__new__', '__nonzero__', '__oct__', '__or__', '__pos__', '__pow__', '__radd__', '__rand__', '__rdiv__', '__rdivmod__', '__reduce__', '__reduce_ex__', '__repr__', '__rfloordiv__', '__rlshift__', '__rmod__', '__rmul__', '__ror__', '__rpow__', '__rrshift__', '__rshift__', '__rsub__', '__rtruediv__', '__rxor__', '__setattr__', '__sizeof__', '__str__', '__sub__', '__subclasshook__', '__truediv__', '__trunc__', '__xor__', 'bit_length', 'conjugate', 'denominator', 'imag', 'numerator', 'real']

          In [4]: a.__class__
          Out[4]: int
          ```
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Objetos no Conceito de OO
          - ### **Abstrações de entidades** que surgiram na discussão do domínio (Paciente)
          - ### **Estruturas lógicas** para auxiliar operações do domínio (Conexão com o BD)
          - ### Definem a estratégia de **design** do sistema
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Como Determinar um Objeto
          - ### Conjunto de valores associados a ele (**Estado**)
          - ### Ações que o objeto pode desempenhar (**Comportamento**)
          - ### Um objeto possui Estado **e/ou** Comportamento
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Como Determinar um Objeto
          - ### Conjunto de valores associados a ele (**Estado**)
          - ### Ações que o objeto pode desempenhar (**Comportamento**)
          - ### Um objeto possui Estado **e/ou** Comportamento
        </section>


        <section data-markdown class="fragments without_ul_style">
            ## Encapsulando o Estado
            - ### **Públicos**: atributos que podem ser utilizados por qualquer outro objeto
            - ### **Privados**: atributos só podem ser utilizados no contexto interno da classe
        </section>

        <section data-markdown class="fragments">
            ## Exemplo em Python
            ```python
            class Pessoa(object):
                opcoes_sexo = ('m', 'f')  # atributo de classe

                def __init__(self, nome, sexo, nascimento):
                    self.nome = nome  # atributo
                    self.sexo = sexo  # atributos de instância públicos
                    self.__nascimento = nascimento  # atributo de instância privado
            ```
        </section>

        <section data-markdown class="fragments">
            ## Exemplo em Python
            ```python
            In [3]: Pessoa.opcoes_sexo
            Out[3]: ('m', 'f')

            In [4]: bernardo = Pessoa(nome='Bernardo', sexo='m', nascimento=date(1988, 9, 22))

            In [5]: print bernardo.nome, bernardo.sexo
            Bernardo m

            In [6]: print bernardo.__nascimento
            ---------------------------------------------------------------------------
            AttributeError                            Traceback (most recent call last)
            <ipython-input-6-1d99028a35e5> in <module>()
            ----> 1 print bernardo.__nascimento

            AttributeError: 'Pessoa' object has no attribute '__nascimento'
            ```
        </section>

        <section data-markdown class="fragments">
            ## Fluxo de Construção
            ```python
            Pessoa(nome='Bernardo', sexo='m', nascimento=date(1988, 9, 22))  # chamada ao construtor

            Pessoa.__new__()  # responsável pela alocação de recursos

            Pessoa.__init__(nome, sexo, nascimento)  # faz a inicialização do objeto
            ```
        </section>

        <section data-markdown class="fragments without_ul_style">
            ## Definindo o Comportamento do Objeto
            - ### Métodos que executam **operações** sobre a instância
            - ### Respeitam as mesmas regras de **encapsulamento**
        </section>

        <section data-markdown class="fragments">
            ## Exemplo em Python
            ```python
            class Pessoa(object):
                opcoes_sexo = ('m', 'f')

                def __init__(self, nome, sexo, nascimento):
                    self.nome = nome
                    self.sexo = sexo
                    self.__nascimento = nascimento

                def calcula_idade(self):
                    # dumb way
                    hoje = date.today()
                    return hoje.year - self.__nascimento.year

            #####

            In [35]: bernardo.calcula_idade()
            Out[35]: 26
            ```
        </section>

        <section data-markdown class="fragments without_ul_style">
          ## Lidando com Encapsulamento Pythonicamente
          - ### O **conceito** de getter/setter é válido, o problema é o **como**
          - ### Python **properties**!
          - ### Regra: o sistema não aceita atualizar nascimentos para antes de 1980
        </section>

        <section data-markdown>
            ## Exemplo em Python
            ```python
            class Pessoa(object):
                opcoes_sexo = ('m', 'f')

                def __init__(self, nome, sexo, nascimento):
                    self.nome = nome
                    self.sexo = sexo
                    self.__nascimento = nascimento

                def calcula_idade(self):
                    hoje = date.today()
                    return hoje.year - self.__nascimento.year

                @property
                def nascimento(self):
                    return self.__nascimento

                @nascimento.setter
                def nascimento(self, data):
                    if data.year < 1980: #>
                       raise ValueError("Data antes de 1980.")
                    self.__nascimento = data
            ```
        </section>

        <section data-markdown class="fragments without_ul_style">
            ## Exemplo em Python
            ```python
            In [43]: bernardo = Pessoa(nome='Bernardo', sexo='m', nascimento=date(1988, 9, 22))

            In [44]: bernardo.nascimento
            Out[44]: datetime.date(1988, 9, 22)

            In [45]: bernardo.nascimento = date(1990, 1, 1)

            In [46]: bernardo.nascimento
            Out[46]: datetime.date(1990, 1, 1)

            In [47]: bernardo.nascimento = date(1970, 1, 1)
            ---------------------------------------------------------------------------
            ValueError                                Traceback (most recent call last)
            <ipython-input-47-1a29391ac73a> in <module>()
            ----> 1 bernardo.nascimento = date(1970, 1, 1)

            <ipython-input-42-45a464f6ce98> in nascimento(self, data)
                 18     def nascimento(self, data):
                 19         if data.year < 1980:
            ---> 20             raise ValueError("Data antes de 1980.")
                 21         self.__nascimento = data

            ValueError: Data antes de 1980.
            ```
        </section>
        <section data-markdown>
          ## Dúvidas?
        </section>

        <section>
          <h2>Obrigado!</h2>
          <h3>
            <br/>
            <p>Bernardo Fontes</p>
            <br/>
            <p><a target="_blank" href="https://twitter.com/bbfontes">twitter.com/bbfontes</a></p>
            <p><a target="_blank" href="https://github.com/berinhard">github.com/berinhard</a></p>
            <p><a target="_blank" href="http://garimpo.fm/">garimpo.fm</a></p>
            <p><a target="_blank" href="http://pessoas.cc/">pessoas.cc</a></p>
            <p><a target="_blank" href="mailto:bernardoxhc@gmail.com">bernardoxhc@gmail.com</a></p>
          </h3>
        </section>

      </div>

    </div>

    <script src="../lib/js/head.min.js"></script>
    <script src="../js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        // transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none
        transition: 'zoom',

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
        { src: 'lib/js/classList.js',
          condition: function() { return !document.body.classList; } },
        { src: '../plugin/markdown/marked.js',
          condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '../plugin/markdown/markdown.js',
          condition: function() { return !!document.querySelector( '[data-markdown]' ); },
          callback: function() {
            Array.prototype.forEach.call(
            document.querySelectorAll('section.fragments > ul > li'),
              function(ele){ ele.className = 'fragment roll-in'; });
            } },
        { src: '../plugin/highlight/highlight.js', async: true,
          callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: '../plugin/zoom-js/zoom.js', async: true,
          condition: function() { return !!document.body.classList; } },
        { src: '../plugin/notes/notes.js', async: true,
          condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>
  </body>
</html>
